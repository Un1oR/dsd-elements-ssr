name: error-handling
description: Use when handling errors or invalid state — enforces fail-fast behavior, no hidden retries/defaults, and proper logging.
---

# Error Handling & Fail Fast

### Политика обработки ошибок и надежность
- **!!!No fallbacks strict policy!!!:** Не придумывай значения по умолчанию, чтобы скрыть отсутствующие данные.
- **No silent except:** Перехватывай только ожидаемые исключения, логируй с контекстом.
  - Если это НЕ верхний уровень формирования API-ответа, пробрасывай исключение дальше (re-raise)
  - Если это верхний уровень формирования API-ответа, сформируй короткое информационное сообщение в поле ошибки, без лишних подробностей.
    - Если приложение работает в отладочном режиме, то помести в отдельное поле дополнительную информацию (стек и т.д.)
- **No hidden retries:** Ретраи только по явной просьбе, идемпотентные, с бэкофом и логами.
- **No chained defaults:** Конструкции `a or b or c` допустимы только для меток в UI, но никогда не для обязательных конфигураций или данных.
- **Fail fast:** При получении невалидных входных данных или некорректного состояния — немедленно выбрасывай исключение. Не продолжай работу с частичными или некорректными результатами.
- **Observability:** Включай структурированное логирование при ошибках. Не понижай уровень серьезности (не используй `warning`, где должна быть `error`).
